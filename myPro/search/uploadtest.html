<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <title></title>
</head>
<body>
<input type="file" id="file" name="pic" id="pic" accept="image/*" multiple />
</body>
    <script>
    document.getElementById('file').onchange=read;
    function read(){
        console.log(1);
        var fs=document.getElementById('file').files[0];
        if(fs){
            var reader=new new FileReader();
            reader.readAsDataURL(fs);

            reader.onloadstart=function(){
                li('开始读取')
            }
            reader.onprogress=function(){
                li('正在读取.....')
            }
            reader.onload=function(e){
                var img=document.createElement('img');
                img.src=this.result;
                document.body.appendChild(img);
            }
            reader.onabort=function(){
                li('读取中断！！')     
            }
            reader.onerror=function(){
                li('读取出现错误！！')
            }
            reader.onloadend=function(){
                li('FileReader读取步骤执行完毕')
            }
        }
    }
        function li(str){
            var obj=document.createElement('li');
            obj.innerHTML=str;
            document.body.appendChild(obj);
        }
    </script>
</html>
